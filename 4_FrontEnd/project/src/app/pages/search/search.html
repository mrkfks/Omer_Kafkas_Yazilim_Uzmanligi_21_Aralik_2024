
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>"{{searchQuery}}" için arama sonuçları</h2>
  <span class="badge bg-secondary">{{pageInfo.total_items}} sonuç bulundu</span>
</div>


<nav>
  <ul class="pagination pagination-sm justify-content-end">
    @for (item of pages; track $index) {
      @if(item == current_page) {
        <li class="page-item active">
          <a [routerLink]="['/search']" [queryParams]="{q: searchQuery, page: item}" class="page-link">{{item}}</a>
        </li>
      }@else {
        <li class="page-item">
          <a [routerLink]="['/search']" [queryParams]="{q: searchQuery, page: item}" class="page-link">{{item}}</a>
        </li>
      }
    }
  </ul>
</nav>


@if (isLoading === true) {
  <div class="d-flex justify-content-center py-5">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
}


@if (!isLoading && productArr.length === 0 && searchQuery) {
  <div class="text-center py-5">
    <i class="bi bi-search display-1 text-muted mb-3"></i>
    <h3 class="text-muted">Sonuç Bulunamadı</h3>
    <p class="text-muted">"{{searchQuery}}" için herhangi bir ürün bulunamadı.</p>
    <a [routerLink]="['/products']" class="btn btn-primary">
      <i class="bi bi-arrow-left"></i> Tüm Ürünlere Dön
    </a>
  </div>
}


@if (!isLoading && productArr.length > 0) {
  <div class="row">
    @for (item of productArr; track $index) {
      <app-search-item [item]="item" class="col-sm-4"></app-search-item>
    }
  </div>
}